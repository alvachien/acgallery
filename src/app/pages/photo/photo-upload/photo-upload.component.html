<nz-page-header class="site-page-header" nzTitle="Photos" nzSubtitle="Upload mode">
  <nz-breadcrumb nz-page-header-breadcrumb>
    <nz-breadcrumb-item>Welcome</nz-breadcrumb-item>
    <nz-breadcrumb-item>
      <a>Photos</a>
    </nz-breadcrumb-item>
  </nz-breadcrumb>
  <nz-page-header-extra>
    <button nz-button>Operation</button>
    <button nz-button>Operation</button>
    <button nz-button nzType="primary" (click)="onCreate()">Upload</button>
  </nz-page-header-extra>
</nz-page-header>

<nz-steps [nzCurrent]="current">
  <nz-step nzTitle="{{'Photo.ChoosePhoto' | transloco}}"></nz-step>
  <nz-step nzTitle="In Progress"></nz-step>
  <nz-step nzTitle="Waiting"></nz-step>
</nz-steps>

<div class="steps-content">
  <div [ngSwitch]="current">
    <div *ngSwitchCase="0">
      <nz-upload [nzAction]="photoFileAPI" nzListType="picture-card" nzFileType="image/png,image/jpeg" [(nzFileList)]="fileList"
        [nzShowButton]="fileList.length < 8" nzSize="2048" (nzChange)="handleChange($event)"
        [nzBeforeUpload]="beforeUpload"
        [nzPreview]="handlePreview">
        <div>
          <i nz-icon nzType="plus"></i>
          <div style="margin-top: 8px">Upload</div>
        </div>
      </nz-upload>
      <nz-modal [nzVisible]="previewVisible" [nzContent]="modalContent" [nzFooter]="null" (nzOnCancel)="previewVisible = false">
        <ng-template #modalContent>
          <img [src]="previewImage" [ngStyle]="{ width: '100%' }" />
        </ng-template>
      </nz-modal>  
    </div>
    <div *ngSwitchDefault>
      {{index}}
    </div>
  </div>
</div>

<div class="steps-action">
  <button nz-button nzType="default" (click)="pre()" *ngIf="current > 0">
    <span>Previous</span>
  </button>
  <button nz-button nzType="default" (click)="next()" *ngIf="current < 2">
    <span>Next</span>
  </button>
  <button nz-button nzType="primary" (click)="done()" *ngIf="current === 2">
    <span>Done</span>
  </button>
</div>
